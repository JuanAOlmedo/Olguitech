<head>
    <%= stylesheet_link_tag 'forms' %>
</head>

<% content_for :title, "#{I18n.t "users.edit_account"}" %>

<div class='form-div'>
    <%= render 'layouts/back' %>

    <h2 class='button' id="close-session">
        <%= link_to "#{I18n.t "users.sign_out"}", destroy_user_session_path, method: :delete, class:'access' %>
    </h2>

    <h1 class='title white'>
        <%= I18n.t "users.edit_account" %>
    </h1>

    <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, data: { turbo: :false } }, ) do |f| %>
    <%= f.error_notification %>

    <div class="form-inputs">
        <%= f.input :email,
                  required: true,
                  autofocus: true,
                  label: false,
                  placeholder: 'Email' %>

        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
        <p>
            <%= "#{I18n.t "users.waiting_confirmation"}" %> <%= resource.unconfirmed_email %>
        </p>
        <% end %>

        <%= f.input :password,
                  required: false,
                  input_html: { autocomplete: "new-password" },
                  label: false,
                  placeholder: "#{I18n.t "users.password"}",
                  class: 'input',
                  hint: "#{I18n.t "users.leave_empty"}" %>
        <%= f.input :password_confirmation,
                  required: false,
                  input_html: { autocomplete: "new-password" },
                  label: false,
                  placeholder: "#{I18n.t "users.confirm_password"}",
                  class: 'input' %>
        <%= f.input :newsletter,
                  inline_label: 'Newsletter',
                  as: :boolean %>
        <%= f.input :current_password,
                  required: true,
                  input_html: { autocomplete: "current-password" },
                  label: false,
                  class: 'input',
                  hint: "#{I18n.t "users.need_current_password"}" %>
    </div>

    <div class="form-actions">
        <%= f.button :submit, "#{I18n.t "users.edit"}", class:'big-navbar-link button' %>
    </div>
    <% end %>

    <%= javascript_pack_tag 'user' %>

    <h2 class='button'>
        <%= link_to "#{I18n.t "users.delete_account"}", registration_path(resource_name), data: { turbo_confirm: I18n.t("users.are_you_sure"), turbo_method: :delete }, class:'access' %>
    </h2>
</div>
